<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Owner Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <h1>Welcome, <span id="owner-name"></span></h1>

    <button class="profile-button" onclick="goToOwnerDashboard()">My Dashboard</button>
    <button class="logout-btn" onclick="logout()">Logout</button>

    <div id="property-list">
        <h2>Your Properties</h2>
        <!-- Properties will be dynamically loaded here -->
    </div>

    <div id="statistics-section">
        <h2>Sales Statistics</h2>
        <button onclick="loadSalesStatistics()">View Sales Statistics</button>
        <div id="sales-statistics" style="display: none;">
            <h3>Statistics</h3>
            <p><strong>Total Sales This Month:</strong> <span id="total-sales-month"></span></p>
            <p><strong>Total Sales This Year:</strong> <span id="total-sales-year"></span></p>
            <p><strong>Expected Payments Next Month:</strong> <span id="expected-payments-next-month"></span></p>
            <p><strong>Expected Payments Next Year:</strong> <span id="expected-payments-next-year"></span></p>
            <p><strong>Average Monthly Income:</strong> <span id="average-monthly-income"></span></p>
            <button onclick="closeSalesStatistics()">Close</button>
        </div>
    </div>

    <!-- ƒобавление заголовка Bookings перед информацией о бронировани€х -->
    <div id="bookings-section">
        <div id="property-bookings">
            <!-- Ѕронировани€ дл€ каждого свойства будут отображатьс€ сюда -->
        </div>
    </div>

    <div id="add-property-form">
        <h2>Add Property</h2>
        <form id="property-form" onsubmit="addProperty(); return false;">
            <div class="form-group">
                <label for="property-title">Title</label>
                <input type="text" id="property-title" placeholder="Enter property title" required />
            </div>
    
            <div class="form-group">
                <label for="property-description">Description</label>
                <textarea id="property-description" placeholder="Enter property description" required></textarea>
            </div>
    
            <div class="form-group">
                <label for="property-price">Price ($)</label>
                <input type="text" id="property-price" placeholder="Enter price (e.g., 100.50)" required pattern="^\d+(\.\d{1,2})?$" title="Enter a valid price (e.g., 100 or 100.50)" />
            </div>
    
            <div class="form-group">
                <label for="property-booking-price">Booking Price per Day ($)</label>
                <input type="text" id="property-booking-price" placeholder="Enter booking price per day (e.g., 50.75)" required pattern="^\d+(\.\d{1,2})?$" title="Enter a valid price (e.g., 50 or 50.75)" />
            </div>
    
            <div class="form-group">
                <label for="property-capacity">Capacity</label>
                <input type="number" id="property-capacity" placeholder="Enter capacity" required />
            </div>
    
            <div class="form-group">
                <label for="property-type">Type</label>
                <select id="property-type" required>
                    <option value="">Select property type</option>
                    <option value="DELUXE">Deluxe</option>
                    <option value="STANDART">Standart</option>
                </select>
            </div>
    
            <div class="form-group">
                <label for="property-amenities">Amenities</label>
                <input type="text" id="property-amenities" placeholder="Enter amenities" />
            </div>
    
            <button type="submit" class="btn-submit">Add Property</button>
        </form>
    </div>
    
    <!-- Modal for editing property -->
    <div id="edit-property-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditModal()">&times;</span>
            <h2>Edit Property</h2>
            <input type="text" id="edit-property-title" placeholder="Title" required>
            <input type="text" id="edit-property-description" placeholder="Description" required>
            <input type="text" id="edit-property-price" placeholder="Property Price (e.g., 200.00)" required pattern="^\d+(\.\d{1,2})?$" title="Enter a valid price (e.g., 200 or 200.00)">
            <input type="text" id="edit-property-amenities" placeholder="Amenities" required>
            <input type="text" id="edit-property-booking-price" placeholder="Booking Price per Day (e.g., 75.50)" required pattern="^\d+(\.\d{1,2})?$" title="Enter a valid price (e.g., 75 or 75.50)">
            <input type="number" id="edit-property-capacity" placeholder="Capacity (number of people)" required>
            <select id="edit-property-type" required>
                <option value="DELUXE">Deluxe</option>
                <option value="STANDART">Standard</option>
            </select>
            <button onclick="saveEditedProperty()">Save</button>
        </div>
    </div>    

    <!-- Modal for confirming deletion -->
    <div id="delete-property-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeDeleteModal()">&times;</span>
            <h2>Confirm Deletion</h2>
            <p>Are you sure you want to delete this property?</p>
            <button onclick="deleteConfirmedProperty()">Yes, Delete</button>
            <button onclick="closeDeleteModal()">Cancel</button>
        </div>
    </div>

</div>

<script src="owner.js"></script>
</body>
</html>
